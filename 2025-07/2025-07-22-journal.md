---
title: RLS I need to solve you
Date: 2025-07-22
Author: Joel Anderson
description: Just when you think you really are starting to understand something you realise how much you don't know.
---

## Start of Day:

### What are my goals today?
Solve this RLS problem around recursion and then get on with finishing off the RLS policies I am working on.


### What are my challenges today?
Challenges are time boxing, and getting it as good as I can. This is just a tough one, because I can't leave it undone. RLS is kind of important. And although yesterday I did a pretty good job of not chasing rabbits, I am striving for an even better output today.

## End of Day

### Have I reached my goals today?
I feel like today was 50/50. I definitely chased some rabbits, but they were rabbits that had to be chased to reach the goals or outcomes required. absolutely blew out my time boxing, but the thing that did happen is a solved a hard problem, and can go to sleep feeling like I achieved something.

### What have I learned today?
I solved the RLS problem pretty quickly by going back to a know technique for fixing recursive db calls, using bypass_functions to call a single column from a table during the login process, that then gets dropped. Basically it creates a secure way to break the recursion. Where my previous attempt was to use a slightly safer method by writing the column value to the JWT claim, meaning that db table never needs to be called

